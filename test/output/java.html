<html><head>
<title>测试</title>
<link rel="stylesheet" type="text/css" href="./FlyHighLighter.css" />
</head>
<body><fieldset class="code"><legend>Java 代码</legend><pre><ol class="code_list"><li><span class="keyword">package</span> com.sgcc.uvmp.running.repository.impl;</li><li></li><li><span class="keyword">import</span> java.util.HashSet;</li><li><span class="keyword">import</span> java.util.List;</li><li><span class="keyword">import</span> java.util.Map;</li><li><span class="keyword">import</span> java.util.Set;</li><li></li><li><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</li><li><span class="keyword">import</span> org.springframework.stereotype.Repository;</li><li></li><li><span class="keyword">import</span> com.sgcc.uvmp.pojo.GridResult;</li><li><span class="keyword">import</span> com.sgcc.uvmp.repository.BaseRepositorySupport;</li><li><span class="keyword">import</span> com.sgcc.uvmp.running.po.UvmpRecDriver;</li><li><span class="keyword">import</span> com.sgcc.uvmp.running.repository.IExcelExportsRepository;</li><li><span class="keyword">import</span> com.sgcc.uvmp.running.repository.IUvmpRecDriverRepository;</li><li></li><li><span class="annotation">@Repository</span></li><li><span class="keyword">public</span> <span class="keyword">class</span> UvmpRecDriverRepository</li><li>		<span class="comment">// 20190514 Excel导出（驾驶员） 修改：开始</span></li><li>		<span class="keyword">implements</span> IExcelExportsRepository</li><li>		<span class="comment">// 20190514 Excel导出（驾驶员） 修改：结束</span></li><li><span class="bracket">{</span></li><li></li><li>	<span class="keyword">private</span> BaseRepositorySupport<span class="bracket"><</span>UvmpRecDriver<span class="bracket">></span> baseRepositorySupport;</li><li></li><li>	<span class="keyword">public</span> UvmpRecDriver findOneById<span class="bracket">(</span><span class="builtin_func">String</span> id<span class="bracket">)</span> <span class="bracket">{</span></li><li>		UvmpRecDriver uvmpRecDriver = <span class="keyword">this</span>.baseRepositorySupport.findOneById<span class="bracket">(</span>id<span class="bracket">)</span>;</li><li>		<span class="keyword">return</span> uvmpRecDriver;</li><li>	<span class="bracket">}</span></li><li></li><li>	<span class="keyword">public</span> GridResult<span class="bracket"><</span>UvmpRecDriver<span class="bracket">></span> findPageBySQL<span class="bracket">(</span>UvmpRecDriver uvmpRecDriver<span class="bracket">)</span> <span class="bracket">{</span></li><li>		<span class="keyword">return</span> <span class="keyword">this</span>.baseRepositorySupport.findPageWithConditionBySQL<span class="bracket">(</span><span class="string">&quot;selectByParamsByPage&quot;</span>, uvmpRecDriver<span class="bracket">)</span>;</li><li>	<span class="bracket">}</span></li><li></li><li>	<span class="keyword">public</span> UvmpRecDriver saveUvmpRecDriver<span class="bracket">(</span>UvmpRecDriver uvmpRecDriver<span class="bracket">)</span> <span class="bracket">{</span></li><li>		<span class="keyword">return</span> <span class="keyword">this</span>.baseRepositorySupport.save<span class="bracket">(</span>uvmpRecDriver<span class="bracket">)</span>;</li><li>	<span class="bracket">}</span></li><li></li><li>	<span class="keyword">public</span> <span class="keyword">void</span> delete<span class="bracket">(</span><span class="builtin_func">String</span> id<span class="bracket">)</span> <span class="bracket">{</span></li><li>		<span class="keyword">this</span>.baseRepositorySupport.delete<span class="bracket">(</span>id<span class="bracket">)</span>;</li><li>	<span class="bracket">}</span></li><li></li><li>	<span class="keyword">public</span> List findAllWithConditionBySQL<span class="bracket">(</span>Map<span class="bracket"><</span><span class="builtin_func">String</span>, <span class="builtin_func">Object</span><span class="bracket">></span> paramsMap<span class="bracket">)</span> <span class="bracket">{</span></li><li>		<span class="keyword">return</span> <span class="keyword">this</span>.baseRepositorySupport.findAllWithConditionBySQL<span class="bracket">(</span><span class="string">&quot;selectByParamsForExportByPage&quot;</span>, paramsMap<span class="bracket">)</span>;</li><li>	<span class="bracket">}</span></li><li></li><li>	<span class="annotation">@Autowired</span></li><li>	<span class="keyword">public</span> UvmpRecDriverRepository<span class="bracket">(</span>IUvmpRecDriverRepository iUvmpRecDriverRepository,</li><li>			BaseRepositorySupport<span class="bracket"><</span>UvmpRecDriver<span class="bracket">></span> baseRepositorySupport<span class="bracket">)</span> <span class="bracket">{</span></li><li>		<span class="keyword">this</span>.baseRepositorySupport = baseRepositorySupport;</li><li>		<span class="keyword">this</span>.baseRepositorySupport.setCustomRepository<span class="bracket">(</span>iUvmpRecDriverRepository<span class="bracket">)</span>;</li><li>		<span class="keyword">this</span>.baseRepositorySupport.setNamespace<span class="bracket">(</span><span class="string">&quot;com.sgcc.uvmp.repository.UvmpRecDriverMapper&quot;</span><span class="bracket">)</span>;</li><li>	<span class="bracket">}</span></li><li></li><li>	<span class="keyword">public</span> GridResult<span class="bracket"><</span>UvmpRecDriver<span class="bracket">></span> queryUnbindDriverFindPageBySQL<span class="bracket">(</span>UvmpRecDriver uvmpRecDriver<span class="bracket">)</span> <span class="bracket">{</span></li><li>		<span class="comment">// 返回值为map类型的分页查询 用于多表查询</span></li><li>		GridResult<span class="bracket"><</span>UvmpRecDriver<span class="bracket">></span> result = <span class="keyword">this</span>.baseRepositorySupport</li><li>				.findPageWithConditionBySQL<span class="bracket">(</span><span class="string">&quot;selectUnbindDriverByPage&quot;</span>, uvmpRecDriver<span class="bracket">)</span>;</li><li>		<span class="keyword">return</span> result;</li><li>	<span class="bracket">}</span></li><li></li><li>	<span class="comment">// 查询绑定的驾驶员</span></li><li>	<span class="keyword">public</span> GridResult<span class="bracket"><</span>UvmpRecDriver<span class="bracket">></span> queryBindDriver<span class="bracket">(</span>UvmpRecDriver uvmpRecDriver<span class="bracket">)</span> <span class="bracket">{</span></li><li>		<span class="comment">// 返回值为map类型的分页查询 用于多表查询</span></li><li>		GridResult<span class="bracket"><</span>UvmpRecDriver<span class="bracket">></span> result = <span class="keyword">this</span>.baseRepositorySupport</li><li>				.findPageWithConditionBySQL<span class="bracket">(</span><span class="string">&quot;selectbindDriverByPage&quot;</span>, uvmpRecDriver<span class="bracket">)</span>;</li><li>		<span class="keyword">return</span> result;</li><li>	<span class="bracket">}</span></li><li></li><li>	<span class="comment">// 车队查询未绑定的驾驶员</span></li><li>	<span class="keyword">public</span> GridResult<span class="bracket"><</span>UvmpRecDriver<span class="bracket">></span> queryUnbindDriverTeamBySQL<span class="bracket">(</span>Map<span class="bracket"><</span><span class="builtin_func">String</span>, <span class="builtin_func">Object</span><span class="bracket">></span> paramsMap<span class="bracket">)</span> <span class="bracket">{</span></li><li>		<span class="keyword">return</span> <span class="keyword">this</span>.baseRepositorySupport.findPageWithConditionBySQL<span class="bracket">(</span><span class="string">&quot;queryUnbindDriverTeamByPage&quot;</span>, paramsMap<span class="bracket">)</span>;</li><li>	<span class="bracket">}</span></li><li></li><li>	<span class="comment">// 车队查询已绑定驾驶员</span></li><li>	<span class="keyword">public</span> GridResult<span class="bracket"><</span>UvmpRecDriver<span class="bracket">></span> queryBindDriverTeamBySQL<span class="bracket">(</span>Map<span class="bracket"><</span><span class="builtin_func">String</span>, <span class="builtin_func">Object</span><span class="bracket">></span> paramsMap<span class="bracket">)</span> <span class="bracket">{</span></li><li>		<span class="keyword">return</span> <span class="keyword">this</span>.baseRepositorySupport.findPageWithConditionBySQL<span class="bracket">(</span><span class="string">&quot;queryBindDriverTeamByPage&quot;</span>, paramsMap<span class="bracket">)</span>;</li><li>	<span class="bracket">}</span></li><li></li><li>	<span class="comment">// 20190514 Excel导出（驾驶员） 新增：开始</span></li><li>	<span class="annotation">@SuppressWarnings</span><span class="bracket">(</span><span class="string">&quot;rawtypes&quot;</span><span class="bracket">)</span></li><li>	<span class="annotation">@Override</span></li><li>	<span class="keyword">public</span> List getDataForExportExcel<span class="bracket">(</span>Map<span class="bracket"><</span><span class="builtin_func">String</span>, <span class="builtin_func">Object</span><span class="bracket">></span> paramsMap<span class="bracket">)</span> <span class="bracket">{</span></li><li>		<span class="keyword">return</span> <span class="keyword">this</span>.baseRepositorySupport.findAllWithConditionBySQL<span class="bracket">(</span><span class="string">&quot;uvmpRecDriverExcelExports&quot;</span>, paramsMap<span class="bracket">)</span>;</li><li>	<span class="bracket">}</span></li><li>	<span class="comment">// 20190514 Excel导出（驾驶员） 新增：结束</span></li><li><span class="bracket">}</span></li></ol></pre></fieldset></body></html>